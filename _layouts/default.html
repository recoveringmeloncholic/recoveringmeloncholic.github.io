<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
</head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1J6QPDPEHQ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-1J6QPDPEHQ');
</script>
<body class="{% if page.layout == 'home' %}home-page{% endif %}">
    <nav class="top-nav">
        <div class="nav-container">
            <ul class="nav-left">
                <li><a href="{{ '/' | relative_url }}">Home</a></li>
                <li><a href="{{ '/about' | relative_url }}">About</a></li>
            </ul>
        </div>
    </nav>

    {{ content }}

    <footer class="site-footer">
        <div class="container">
            <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Handle navbar transparency on homepage
        if (document.body.classList.contains('home-page')) {
            const nav = document.querySelector('.top-nav');
            const heroSection = document.querySelector('.hero-section');

            if (nav && heroSection) {
                // Function to handle scroll
                function handleScroll() {
                    const heroBottom = heroSection.offsetTop + heroSection.offsetHeight;
                    const scrollPosition = window.scrollY;

                    if (scrollPosition > heroBottom - nav.offsetHeight) {
                        nav.classList.add('scrolled');
                    } else {
                        nav.classList.remove('scrolled');
                    }
                }

                // Listen to scroll events
                window.addEventListener('scroll', handleScroll);

                // Call once on load
                handleScroll();
            }
        }
    </script>
</body>
</html>
